<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cade: cade.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Cade</div>
   <div id="projectbrief">A cycle-accurate DCPU-16 emulator, written in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cade.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
</div>
<p><a href="cade_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cade_8h.html#af3fb1116def8f282dfc9b86157643d77">DCPU_STOP</a>&#160;&#160;&#160;(0x21 &lt;&lt; 10 | (0x1c &lt;&lt; 4) | 3)</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22133fb46985fa14c0df4096b19c4f8d"></a><!-- doxytag: member="cade.h::DCPU_State" ref="a22133fb46985fa14c0df4096b19c4f8d" args="" -->
typedef struct <a class="el" href="structDCPU__State.html">DCPU_State</a>&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_State</b></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cade_8h.html#a7c64f3936922fde21f3f804260bf73a3">DCPU_Register</a> { <br/>
&#160;&#160;<b>DCPU_REG_A</b> =  0, 
<b>DCPU_REG_B</b>, 
<b>DCPU_REG_C</b>, 
<b>DCPU_REG_X</b>, 
<br/>
&#160;&#160;<b>DCPU_REG_Y</b>, 
<b>DCPU_REG_Z</b>, 
<b>DCPU_REG_I</b>, 
<b>DCPU_REG_J</b>, 
<br/>
&#160;&#160;<b>DCPU_REG_COUNT</b>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration for the DCPU-16 registers. <br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cade_8h.html#a4fc70add02a32273323c2a43209972e4">DCPU_GetRegisterName</a> (<a class="el" href="cade_8h.html#a7c64f3936922fde21f3f804260bf73a3">DCPU_Register</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string containing the name of the indicated register.  <a href="#a4fc70add02a32273323c2a43209972e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDCPU__State.html">DCPU_State</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cade_8h.html#a3489ed4263a2524369bbff1ce64eecaf">DCPU_Create</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new DCPU-16 instance.  <a href="#a3489ed4263a2524369bbff1ce64eecaf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a799eafe905b6e7436b470ce404cf1d97"></a><!-- doxytag: member="cade.h::DCPU_Destroy" ref="a799eafe905b6e7436b470ce404cf1d97" args="(DCPU_State *cpu)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cade_8h.html#a799eafe905b6e7436b470ce404cf1d97">DCPU_Destroy</a> (<a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a DCPU-16 instance. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cade_8h.html#a0b9510b64d76d68e0c408c68fbefc25a">DCPU_Init</a> (<a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes (resets) the state of an emulated DCPU-16 instance.  <a href="#a0b9510b64d76d68e0c408c68fbefc25a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa5d197948df59d2e56aff49e3a44a1a"></a><!-- doxytag: member="cade.h::DCPU_Load" ref="aaa5d197948df59d2e56aff49e3a44a1a" args="(DCPU_State *cpu, uint16_t address, const uint16_t *data, size_t length)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_Load</b> (<a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu, uint16_t address, const uint16_t *data, size_t length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d5bfbe782cd3ecfa32aee076c333ddb"></a><!-- doxytag: member="cade.h::DCPU_GetRegister" ref="a0d5bfbe782cd3ecfa32aee076c333ddb" args="(const DCPU_State *cpu, DCPU_Register reg)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_GetRegister</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu, <a class="el" href="cade_8h.html#a7c64f3936922fde21f3f804260bf73a3">DCPU_Register</a> reg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b3ab2553aed7146bffb13264fd040f4"></a><!-- doxytag: member="cade.h::DCPU_GetPC" ref="a5b3ab2553aed7146bffb13264fd040f4" args="(const DCPU_State *cpu)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_GetPC</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca0f59fa6aa9d6fca73e71b3cc82dadc"></a><!-- doxytag: member="cade.h::DCPU_GetSP" ref="aca0f59fa6aa9d6fca73e71b3cc82dadc" args="(const DCPU_State *cpu)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_GetSP</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3eb2b5718db96eb569dd822d245b1a8"></a><!-- doxytag: member="cade.h::DCPU_GetO" ref="af3eb2b5718db96eb569dd822d245b1a8" args="(const DCPU_State *cpu)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_GetO</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea14396d5ee7dee57543d8e3beadd07c"></a><!-- doxytag: member="cade.h::DCPU_GetMemory" ref="aea14396d5ee7dee57543d8e3beadd07c" args="(const DCPU_State *cpu, uint16_t address)" -->
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_GetMemory</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu, uint16_t address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a63c0fc1ea742d38e8a3202854acbac61"></a><!-- doxytag: member="cade.h::DCPU_PrintState" ref="a63c0fc1ea742d38e8a3202854acbac61" args="(const DCPU_State *cpu)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_PrintState</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae29e29510d7786fa2470878fd5c0acd"></a><!-- doxytag: member="cade.h::DCPU_Dump" ref="aae29e29510d7786fa2470878fd5c0acd" args="(const DCPU_State *cpu, uint16_t start, size_t length)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_Dump</b> (const <a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu, uint16_t start, size_t length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10115b5c9dfd8fa91dd7e8281d33fc4b"></a><!-- doxytag: member="cade.h::DCPU_StepCycle" ref="a10115b5c9dfd8fa91dd7e8281d33fc4b" args="(DCPU_State *cpu, size_t num_cycles)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_StepCycle</b> (<a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu, size_t num_cycles)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1b6b89cffa7257df32ba204b58a655e"></a><!-- doxytag: member="cade.h::DCPU_StepInstruction" ref="ae1b6b89cffa7257df32ba204b58a655e" args="(DCPU_State *cpu)" -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_StepInstruction</b> (<a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aadeff3717a4773da9bba5efdcca6422b"></a><!-- doxytag: member="cade.h::DCPU_StepUntilStuck" ref="aadeff3717a4773da9bba5efdcca6422b" args="(DCPU_State *cpu)" -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>DCPU_StepUntilStuck</b> (<a class="el" href="structDCPU__State.html">DCPU_State</a> *cpu)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file declares the public API for the Cade DCPU-16 emulator. </p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="af3fb1116def8f282dfc9b86157643d77"></a><!-- doxytag: member="cade.h::DCPU_STOP" ref="af3fb1116def8f282dfc9b86157643d77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DCPU_STOP&#160;&#160;&#160;(0x21 &lt;&lt; 10 | (0x1c &lt;&lt; 4) | 3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is <code>SUB PC, 1</code>, which is a 1-instruction infinite loop that doesn't depend on the address it's assembled at. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3489ed4263a2524369bbff1ce64eecaf"></a><!-- doxytag: member="cade.h::DCPU_Create" ref="a3489ed4263a2524369bbff1ce64eecaf" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDCPU__State.html">DCPU_State</a>* DCPU_Create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new DCPU-16 instance. </p>
<p>Memory is dynamically allocated to hold the emulated CPU's state; use <a class="el" href="cade_8c.html#a799eafe905b6e7436b470ce404cf1d97" title="Destroys a DCPU-16 instance.">DCPU_Destroy()</a> to free it. </p>

</div>
</div>
<a class="anchor" id="a4fc70add02a32273323c2a43209972e4"></a><!-- doxytag: member="cade.h::DCPU_GetRegisterName" ref="a4fc70add02a32273323c2a43209972e4" args="(DCPU_Register)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* DCPU_GetRegisterName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="cade_8h.html#a7c64f3936922fde21f3f804260bf73a3">DCPU_Register</a>&#160;</td>
          <td class="paramname"><em>reg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a string containing the name of the indicated register. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A constant string (owned by Cade, should not be deallocated by caller). </dd></dl>

</div>
</div>
<a class="anchor" id="a0b9510b64d76d68e0c408c68fbefc25a"></a><!-- doxytag: member="cade.h::DCPU_Init" ref="a0b9510b64d76d68e0c408c68fbefc25a" args="(DCPU_State *cpu)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DCPU_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDCPU__State.html">DCPU_State</a> *&#160;</td>
          <td class="paramname"><em>cpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes (resets) the state of an emulated DCPU-16 instance. </p>
<p>All memory and registers (including PC and O) are cleared to 0x0000, and the stack pointer is set to 0xffff. Any executing instruction is aborted, on the next cycle executed the DCPU-16 will fetch a new instruction to execute. </p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Apr 15 2012 18:19:04 for Cade by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
